(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(9),r=a.n(l),i=(a(16),a(2)),c=a(3),s=a(6),m=a(4),d=a(5),u=a(1),h=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container mt-2 mb-5"},o.a.createElement("h1",{className:"logo"},"\xa1Somos Equipo!"))}}]),t}(n.Component),f=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("div",{className:"container"},o.a.createElement("span",{className:"text-muted"},"\xa9 \xa1Somos Equipo! 2018")))}}]),t}(n.Component),p=function(e){return o.a.createElement("div",{className:"alert alert-danger mt-3 animated flipInY delay-2s",role:"alert"},o.a.createElement("p",null,"Lo sentimos mucho, no encotramos tu DNI (",e.dni,") en nuestros registros."),o.a.createElement("p",null,"Fijate si est\xe1 escrito correctamente."),o.a.createElement("p",null,"Si es la primera vez que ingresas te invitamos a ser parte del equipo dando click en el bot\xf3n:"),o.a.createElement("p",null,o.a.createElement("strong",null,o.a.createElement("i",null,"Quiero sumarme al equipo!"))," \xa0\xa0\xa0\xa0\xa0 ",o.a.createElement("i",{className:"fas fa-arrow-down"})))},b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={buscando:!1,leyenda:!1,dni:""},a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.state.leyenda&&this.setState({leyenda:!1,buscando:!1}),this.setState({dni:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({buscando:!0},function(){fetch("".concat("http://hansjal.esy.es/api-equipo/public","/integrantes/dni/").concat(t.state.dni),{method:"GET",headers:{Authorization:"asdssffsdff","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.err?console.log("Error!"):parseInt(e.data.count)>0?t.props.onOkDni(e.data.registros[0]):t.setState({leyenda:!0})},function(e){})})}},{key:"render",value:function(){var e=this.state,t=e.buscando,a=e.leyenda,n=e.dni;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"d-flex"},o.a.createElement("label",{htmlFor:"dni",className:"mr-4 pt-2"},"DNI:"),o.a.createElement("input",{type:"number",className:"form-control mr-4",name:"dni",id:"dni",value:n,onChange:this.handleChange}),t?o.a.createElement("div",{className:"spinner"}):o.a.createElement("button",{type:"submit",className:"btn btn-dark mb-2"},"Confirmar"))))),o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-sm-12 col-md-4"},a?o.a.createElement(p,{dni:n}):"")))}}]),t}(n.Component),g=a(7),E=a(10),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={formulario:{apellido:"",nombre:"",dni:"",domicilio:"",caracteristica:"2657",telefono:"",mail:"",notas:"",idcomision:1,idreferente:1,idtipo:3,activo:1},referentes:[],comisiones:[]},a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a.handleFormCancel=a.handleFormCancel.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState({formulario:Object(E.a)({},this.state.formulario,Object(g.a)({},n,a))})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("".concat("http://hansjal.esy.es/api-equipo/public","/integrante/nuevo"),{method:"POST",headers:{Authorization:"asdssffsdff","Content-Type":"application/json"},body:JSON.stringify(this.state.formulario)}).then(function(e){return e.json()}).then(function(e){e.err?console.log(e.errMsg):parseInt(e.insertId)>0?t.props.onOk(e.insertId):console.log("No id: "+e.insertId)},function(e){console.log(e)})}},{key:"handleFormCancel",value:function(e){e.preventDefault(),this.props.onCancel()}},{key:"componentWillMount",value:function(){var e=this;fetch("".concat("http://hansjal.esy.es/api-equipo/public","/comisiones"),{method:"GET",headers:{Authorization:"asdssffsdff","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){t.err?console.log(t.errMsg):e.setState({comisiones:t.data.registros})},function(e){console.log(e)}),fetch("".concat("http://hansjal.esy.es/api-equipo/public","/referentes"),{method:"GET",headers:{Authorization:"asdssffsdff","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){t.err?console.log(t.errMsg):e.setState({referentes:t.data.registros})},function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.comisiones.map(function(e){return o.a.createElement("option",{key:"com-".concat(e.id),value:e.id},e.nombre)}),t=this.state.referentes.map(function(e){return o.a.createElement("option",{key:"ref-".concat(e.id),value:e.id},e.apellido+" "+e.nombre)}),a=this.state.formulario;return o.a.createElement("div",{className:"container mb-5"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-sm-12 col-md-4"},o.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"off"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"apellido"},"Apellido"),o.a.createElement("input",{type:"text",className:"form-control",id:"apellido",name:"apellido",placeholder:"Apellido/s",value:a.apellido,onChange:this.handleChange,maxLength:"50",autoComplete:"off"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"nombre"},"Nombre"),o.a.createElement("input",{type:"text",className:"form-control",id:"nombre",name:"nombre",placeholder:"Nombre/s",value:a.nombre,onChange:this.handleChange,maxLength:"50"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"dni"},"DNI"),o.a.createElement("input",{type:"number",className:"form-control",id:"dni",name:"dni",placeholder:"N\xfamero de documento",value:a.dni,onChange:this.handleChange,maxLength:"8"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"domicilio"},"Domicilio"),o.a.createElement("input",{type:"text",className:"form-control",id:"domicilio",name:"domicilio",placeholder:"Domicilio",value:a.domicilio,onChange:this.handleChange,maxLength:"100"})),o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"caracteristica"},"Caract."),o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("div",{className:"input-group-text"},"0-")),o.a.createElement("input",{type:"number",className:"form-control",id:"caracteristica",name:"caracteristica",placeholder:"2657",value:a.caracteristica,onChange:this.handleChange,maxLength:"5"})))),o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"telefono"},"Cel."),o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("div",{className:"input-group-text"},"15-")),o.a.createElement("input",{type:"number",className:"form-control",id:"telefono",name:"telefono",placeholder:"",value:a.telefono,onChange:this.handleChange,maxLength:"6"}))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"mail"},"Email"),o.a.createElement("input",{type:"email",className:"form-control",id:"mail",name:"mail",placeholder:"mimail@miserver.com",value:a.mail,onChange:this.handleChange,maxLength:"50"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"idcomision"},"Comisi\xf3n"),o.a.createElement("select",{className:"form-control",id:"idcomision",name:"idcomision",value:a.idcomision,onChange:this.handleChange},e)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"idreferente"},"Referente"),o.a.createElement("select",{className:"form-control",id:"idreferente",name:"idreferente",value:a.idreferente,onChange:this.handleChange},t)),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("button",{className:"btn btn-dark",onClick:this.handleFormCancel},"Cancelar"),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Aceptar"))))))}}]),t}(n.Component),N=function(e){return o.a.createElement("div",{className:"di"},o.a.createElement("div",{className:"nombre text-info"},e.data.apellido," ",e.data.nombre),o.a.createElement("div",{className:"telefono"},"Cel: ",e.data.caracteristica," - ",e.data.telefono),o.a.createElement("div",{className:"mail"},"Email: ",e.data.mail))},j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={loading:!0,idComision:0,data_comision:{},data_integrantes:[],total_integrantes:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({idComision:this.props.idComision},function(){var t=new Promise(function(t,a){fetch("".concat("http://hansjal.esy.es/api-equipo/public","/comision/").concat(e.state.idComision),{method:"GET",headers:{Authorization:"asdssffsdff","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){a.err||e.setState({data_comision:a.data.registros[0],total_integrantes:a.data.count},function(){t("Ok")})},function(e){a(e)})}),a=new Promise(function(t,a){fetch("".concat("http://hansjal.esy.es/api-equipo/public","/integrantes/comision/").concat(e.state.idComision),{method:"GET",headers:{Authorization:"asdssffsdff","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){a.err||e.setState({data_integrantes:a.data.registros},function(){t("Ok")})},function(e){a(e)})});Promise.all([t,a]).then(function(t){e.setState({loading:!1})})})}},{key:"render",value:function(){var e=this.state.data_integrantes.map(function(e){return o.a.createElement("li",{className:"list-group-item",key:"int-".concat(e.id)},o.a.createElement(N,{data:e}))});return o.a.createElement("div",{className:"row justify-content-center mt-3"},o.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-6 col-xl-6"},this.state.loading?o.a.createElement("div",null,"Cargando..."):o.a.createElement("div",{className:"bg-white text-dark rounded p-3"},o.a.createElement("div",{className:"text-center bg-dark text-white p-2"},o.a.createElement("h5",null,this.state.data_comision.nombre)),o.a.createElement("div",{className:"mb-3 mt-3"},"Integrantes:"),o.a.createElement("ul",{className:"list-group"},e),o.a.createElement("div",{className:"mt-3 mb-3"},"Total de ",this.state.total_integrantes," integrantes."))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={encontrado:!1,registrarse:!1,dni:"",integrante:{}},a.handleRegistro=a.handleRegistro.bind(Object(u.a)(Object(u.a)(a))),a.handleCancelForm=a.handleCancelForm.bind(Object(u.a)(Object(u.a)(a))),a.handleOkForm=a.handleOkForm.bind(Object(u.a)(Object(u.a)(a))),a.handleOkDni=a.handleOkDni.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleOkDni",value:function(e){this.setState({integrante:e,encontrado:!0})}},{key:"handleRegistro",value:function(){this.setState({registrarse:!0})}},{key:"handleCancelForm",value:function(){this.setState({registrarse:!1})}},{key:"handleOkForm",value:function(e){var t=this;fetch("".concat("http://hansjal.esy.es/api-equipo/public","/integrantes/id/").concat(e),{method:"GET",headers:{Authorization:"asdssffsdff","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.err?console.log("Error!"):parseInt(e.data.count)>0?t.setState({registrarse:!1,integrante:e.data.registros[0],encontrado:!0}):console.log("Error!")},function(e){console.log("Error!")})}},{key:"render",value:function(){var e=this.state,t=e.encontrado,a=e.registrarse;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,null),t?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"bg-white text-dark rounded p-3"},o.a.createElement("h5",null,"Bienvenido ",o.a.createElement("span",{className:"text-primary"},this.state.integrante.apellido," ",this.state.integrante.nombre))))),o.a.createElement("div",{className:"row justify-content-center mt-3"},o.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"bg-white text-dark p-3 rounded d-flex flex-column"},o.a.createElement("h5",null,"\xdaltimos Mensajes:"),o.a.createElement("div",{className:"alert alert-dark",role:"alert"},"No hay mensajes.")))),o.a.createElement(j,{idComision:this.state.integrante.idcomision}))):o.a.createElement(o.a.Fragment,null,a?o.a.createElement(v,{onCancel:this.handleCancelForm,onOk:this.handleOkForm}):o.a.createElement(o.a.Fragment,null,o.a.createElement(b,{onOkDni:this.handleOkDni}),o.a.createElement("div",{className:"container mt-3"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-sm-12 col-md-4 d-flex justify-content-center"},o.a.createElement("button",{className:"btn btn-dark",onClick:this.handleRegistro},"Quiero sumarme al equipo!")))))),o.a.createElement(f,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.b0045bcb.chunk.js.map